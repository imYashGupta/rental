import{r as c,R as m,j as i,a as l,H as F,l as U}from"./app.e05925ea.js";import{A as B,H as O}from"./Header.52815ba2.js";import{F as H,k as L,R as G,M as V}from"./Modal.718d00a7.js";import{o as p,C as E,I as M,y as T,s as z,$ as v,h as K,a as J,F as Q,r as _,b as C}from"./transition.7e499975.js";import{s as q}from"./use-resolve-button-type.e9404b62.js";import"./XMarkIcon.72e5f815.js";function W(e){var t;let r=(t=e==null?void 0:e.form)!=null?t:e.closest("form");if(r){for(let a of r.elements)if(a.tagName==="INPUT"&&a.type==="submit"||a.tagName==="BUTTON"&&a.type==="submit"||a.nodeName==="INPUT"&&a.type==="image"){a.click();return}}}function X(e,t,r){let[a,o]=c.exports.useState(r),s=e!==void 0;return[s?e:a,p(n=>(s||o(n),t==null?void 0:t(n)))]}let R=c.exports.createContext(null);function $(){let e=c.exports.useContext(R);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,$),t}return e}function Z(){let[e,t]=c.exports.useState([]);return[e.length>0?e.join(" "):void 0,c.exports.useMemo(()=>function(r){let a=p(s=>(t(n=>[...n,s]),()=>t(n=>{let d=n.slice(),f=d.indexOf(s);return f!==-1&&d.splice(f,1),d}))),o=c.exports.useMemo(()=>({register:a,slot:r.slot,name:r.name,props:r.props}),[a,r.slot,r.name,r.props]);return m.createElement(R.Provider,{value:o},r.children)},[t])]}let ee="label",te=E(function(e,t){let{passive:r=!1,...a}=e,o=$(),s=`headlessui-label-${M()}`,n=T(t);z(()=>o.register(s),[s,o.register]);let d={ref:n,...o.props,id:s};return r&&("onClick"in d&&delete d.onClick,"onClick"in a&&delete a.onClick),v({ourProps:d,theirProps:a,slot:o.slot||{},defaultTag:ee,name:o.name||"Label"})}),w=c.exports.createContext(null);w.displayName="GroupContext";let ae=c.exports.Fragment;function re(e){let[t,r]=c.exports.useState(null),[a,o]=Z(),[s,n]=L(),d=c.exports.useMemo(()=>({switch:t,setSwitch:r,labelledby:a,describedby:s}),[t,r,a,s]),f={},h=e;return m.createElement(n,{name:"Switch.Description"},m.createElement(o,{name:"Switch.Label",props:{onClick(){!t||(t.click(),t.focus({preventScroll:!0}))}}},m.createElement(w.Provider,{value:d},v({ourProps:f,theirProps:h,defaultTag:ae,name:"Switch.Group"}))))}let ne="button",le=E(function(e,t){let{checked:r,defaultChecked:a=!1,onChange:o,name:s,value:n,...d}=e,f=`headlessui-switch-${M()}`,h=c.exports.useContext(w),N=c.exports.useRef(null),D=T(N,t,h===null?null:h.setSwitch),[g,S]=X(r,o,a),k=p(()=>S==null?void 0:S(!g)),P=p(u=>{if(_(u.currentTarget))return u.preventDefault();u.preventDefault(),k()}),I=p(u=>{u.key===C.Space?(u.preventDefault(),k()):u.key===C.Enter&&W(u.currentTarget)}),Y=p(u=>u.preventDefault()),j=c.exports.useMemo(()=>({checked:g}),[g]),A={id:f,ref:D,role:"switch",type:q(e,N),tabIndex:0,"aria-checked":g,"aria-labelledby":h==null?void 0:h.labelledby,"aria-describedby":h==null?void 0:h.describedby,onClick:P,onKeyUp:I,onKeyPress:Y};return m.createElement(m.Fragment,null,s!=null&&g&&m.createElement(K,{features:J.Hidden,...Q({as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:g,name:s,value:n})}),v({ourProps:A,theirProps:d,slot:j,defaultTag:ne,name:"Switch"}))}),b=Object.assign(le,{Group:re,Label:te,Description:H});function se({title:e,titleId:t,...r},a){return i("svg",{...Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},r),children:[e?l("title",{id:t,children:e}):null,l("path",{fillRule:"evenodd",d:"M12 3.75a.75.75 0 01.75.75v13.19l5.47-5.47a.75.75 0 111.06 1.06l-6.75 6.75a.75.75 0 01-1.06 0l-6.75-6.75a.75.75 0 111.06-1.06l5.47 5.47V4.5a.75.75 0 01.75-.75z",clipRule:"evenodd"})]})}const ie=c.exports.forwardRef(se),oe=ie;function ce({title:e,titleId:t,...r},a){return i("svg",{...Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},r),children:[e?l("title",{id:t,children:e}):null,l("path",{fillRule:"evenodd",d:"M12 20.25a.75.75 0 01-.75-.75V6.31l-5.47 5.47a.75.75 0 01-1.06-1.06l6.75-6.75a.75.75 0 011.06 0l6.75 6.75a.75.75 0 11-1.06 1.06l-5.47-5.47V19.5a.75.75 0 01-.75.75z",clipRule:"evenodd"})]})}const de=c.exports.forwardRef(ce),ue=de;function y(...e){return e.filter(Boolean).join(" ")}const x=(e,t)=>{let r=parseInt(e);return parseInt(t)/r*100-100},be=e=>{const[t,r]=m.useState(!1),[a,o]=m.useState(!1),s=[{name:"Total Rent",stat:t?e.stats.currentYear:e.stats.currentMonth,previousStat:t?e.stats.lastYear:e.stats.lastMonth,change:t?x(e.stats.currentYear,e.stats.lastYear):x(e.stats.currentMonth,e.stats.lastMonth),changeType:function(){return this.change>0?"increase":"decrease"}},{name:"Electricity",stat:t?e.stats.currentYearElectricity:e.stats.currentMonthElectricity,previousStat:t?e.stats.lastYearElectricity:e.stats.lastMonthElectricity,change:t?x(e.stats.currentYearElectricity,e.stats.lastYearElectricity):x(e.stats.currentMonthElectricity,e.stats.lastMonthElectricity),changeType:function(){return this.change>0?"increase":"decrease"}},{name:"Total Income",stat:e.stats.total,previousStat:e.stats.start_date,change:t?x(e.stats.currentYear,e.stats.lastYear):x(e.stats.currentMonth,e.stats.lastMonth),changeType:function(){return this.change>0?"increase":"decrease"}}];return console.log(),i(B,{auth:e.auth,errors:e.errors,header:l(O,{title:"Dashboard",actionButton:{text:"Properties",url:route("property.index"),icon:"BuildingOffice2Icon"}}),children:[l(F,{title:"Dashboard"}),l("div",{className:"py-1 md:py-6",children:i("section",{className:"list-container",children:[l("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8 mb-6 ",children:i("div",{className:"shadow-xl rounded-md",children:[i("div",{className:"flex flex-1 bg-white items-center justify-between  px-4 py-5   sm:px-6 lg:px-8 border-b ",children:[i("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:[t?"Annually":"Monthly"," Stats"]}),i(b.Group,{as:"div",className:"flex ",children:[l(b.Label,{as:"span",className:"mr-3",children:l("span",{className:"text-sm font-medium text-gray-900",children:"Switch to Annually"})}),i(b,{checked:t,onChange:r,className:y(t?"bg-indigo-600":"bg-gray-200","relative inline-flex flex-shrink-0 h-6 w-11 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"),children:[l("span",{className:"sr-only",children:"Use setting"}),l("span",{"aria-hidden":"true",className:y(t?"translate-x-5":"translate-x-0","pointer-events-none inline-block h-5 w-5 rounded-full bg-white shadow transform ring-0 transition ease-in-out duration-200")})]})]})]}),l("dl",{className:" grid grid-cols-1   bg-white overflow-hidden  divide-y divide-gray-200 md:grid-cols-3 md:divide-y-0 md:divide-x",children:s.map(n=>i("div",{className:"px-4 py-5 sm:p-6",children:[l("dt",{className:"text-base font-normal text-gray-900",children:n.name}),i("dd",{className:"mt-1 flex justify-between items-baseline md:block lg:flex",children:[i("div",{className:"flex items-baseline text-2xl font-semibold text-indigo-600",children:["\u20B9",n.stat,i("span",{className:"ml-2 text-sm font-medium text-gray-500",children:["from \u20B9",n.previousStat]})]}),!U.exports.isNaN(n.change)&&i("div",{className:y(n.changeType()==="increase"?"bg-green-100 text-green-800":"bg-red-100 text-red-800","inline-flex items-baseline px-2.5 py-0.5 rounded-full text-sm font-medium md:mt-2 lg:mt-0"),children:[n.changeType()==="increase"?l(ue,{className:"-ml-1 mr-0.5 flex-shrink-0 self-center h-5 w-5 text-green-500","aria-hidden":"true"}):l(oe,{className:"-ml-1 mr-0.5 flex-shrink-0 self-center h-5 w-5 text-red-500","aria-hidden":"true"}),i("span",{className:"sr-only",children:[n.changeType()==="increase"?"Increased":"Decreased"," ","by"]}),n.change,"%"]})]})]},n.name))})]})}),l("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8 mb-6 ",children:i("div",{className:"shadow-xl rounded-md",children:[l("div",{className:"bg-white px-4 py-5 border-b border-gray-200   ",children:l("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Upcoming Rent"})}),i("div",{className:"bg-white  overflow-hidden  ",children:[l("ul",{className:"divide-y  divide-gray-200",children:e.stats.upcomingRents.map(n=>l(G,{room:n,SetShowRoom:o}))}),e.stats.upcomingRents.length==0&&l("p",{className:"mt-1 p-3 text-sm text-gray-500",children:"No Upcoming rents."})]})]})})]})}),l(V,{SetShowRoom:o,room:a})]})};export{be as default};
