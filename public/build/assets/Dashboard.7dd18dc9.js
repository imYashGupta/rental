import{r as c,R as m,j as i,a as l,H as A}from"./app.28ce05f3.js";import{A as B,H as U}from"./Header.8deefbcf.js";import{R as L,M as O}from"./Modal.1aa1d0c8.js";import{o as p,C as R,I as C,y as E,s as H,$ as v,h as G,a as V,F as z,r as K,b as M}from"./transition.578b7ab7.js";import{F as J,k as Q}from"./dialog.aada8d4c.js";import{s as _}from"./use-resolve-button-type.e509eb13.js";import"./XMarkIcon.0cf3d785.js";function q(e){var t;let n=(t=e==null?void 0:e.form)!=null?t:e.closest("form");if(n){for(let a of n.elements)if(a.tagName==="INPUT"&&a.type==="submit"||a.tagName==="BUTTON"&&a.type==="submit"||a.nodeName==="INPUT"&&a.type==="image"){a.click();return}}}function W(e,t,n){let[a,o]=c.exports.useState(n),s=e!==void 0;return[s?e:a,p(r=>(s||o(r),t==null?void 0:t(r)))]}let T=c.exports.createContext(null);function $(){let e=c.exports.useContext(T);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,$),t}return e}function X(){let[e,t]=c.exports.useState([]);return[e.length>0?e.join(" "):void 0,c.exports.useMemo(()=>function(n){let a=p(s=>(t(r=>[...r,s]),()=>t(r=>{let d=r.slice(),f=d.indexOf(s);return f!==-1&&d.splice(f,1),d}))),o=c.exports.useMemo(()=>({register:a,slot:n.slot,name:n.name,props:n.props}),[a,n.slot,n.name,n.props]);return m.createElement(T.Provider,{value:o},n.children)},[t])]}let Z="label",ee=R(function(e,t){let{passive:n=!1,...a}=e,o=$(),s=`headlessui-label-${C()}`,r=E(t);H(()=>o.register(s),[s,o.register]);let d={ref:r,...o.props,id:s};return n&&("onClick"in d&&delete d.onClick,"onClick"in a&&delete a.onClick),v({ourProps:d,theirProps:a,slot:o.slot||{},defaultTag:Z,name:o.name||"Label"})}),w=c.exports.createContext(null);w.displayName="GroupContext";let te=c.exports.Fragment;function ae(e){let[t,n]=c.exports.useState(null),[a,o]=X(),[s,r]=Q(),d=c.exports.useMemo(()=>({switch:t,setSwitch:n,labelledby:a,describedby:s}),[t,n,a,s]),f={},h=e;return m.createElement(r,{name:"Switch.Description"},m.createElement(o,{name:"Switch.Label",props:{onClick(){!t||(t.click(),t.focus({preventScroll:!0}))}}},m.createElement(w.Provider,{value:d},v({ourProps:f,theirProps:h,defaultTag:te,name:"Switch.Group"}))))}let ne="button",re=R(function(e,t){let{checked:n,defaultChecked:a=!1,onChange:o,name:s,value:r,...d}=e,f=`headlessui-switch-${C()}`,h=c.exports.useContext(w),N=c.exports.useRef(null),D=E(N,t,h===null?null:h.setSwitch),[g,S]=W(n,o,a),k=p(()=>S==null?void 0:S(!g)),I=p(u=>{if(K(u.currentTarget))return u.preventDefault();u.preventDefault(),k()}),P=p(u=>{u.key===M.Space?(u.preventDefault(),k()):u.key===M.Enter&&q(u.currentTarget)}),F=p(u=>u.preventDefault()),Y=c.exports.useMemo(()=>({checked:g}),[g]),j={id:f,ref:D,role:"switch",type:_(e,N),tabIndex:0,"aria-checked":g,"aria-labelledby":h==null?void 0:h.labelledby,"aria-describedby":h==null?void 0:h.describedby,onClick:I,onKeyUp:P,onKeyPress:F};return m.createElement(m.Fragment,null,s!=null&&g&&m.createElement(G,{features:V.Hidden,...z({as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:g,name:s,value:r})}),v({ourProps:j,theirProps:d,slot:Y,defaultTag:ne,name:"Switch"}))}),b=Object.assign(re,{Group:ae,Label:ee,Description:J});function le({title:e,titleId:t,...n},a){return i("svg",{...Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),children:[e?l("title",{id:t,children:e}):null,l("path",{fillRule:"evenodd",d:"M12 3.75a.75.75 0 01.75.75v13.19l5.47-5.47a.75.75 0 111.06 1.06l-6.75 6.75a.75.75 0 01-1.06 0l-6.75-6.75a.75.75 0 111.06-1.06l5.47 5.47V4.5a.75.75 0 01.75-.75z",clipRule:"evenodd"})]})}const se=c.exports.forwardRef(le),ie=se;function oe({title:e,titleId:t,...n},a){return i("svg",{...Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),children:[e?l("title",{id:t,children:e}):null,l("path",{fillRule:"evenodd",d:"M12 20.25a.75.75 0 01-.75-.75V6.31l-5.47 5.47a.75.75 0 01-1.06-1.06l6.75-6.75a.75.75 0 011.06 0l6.75 6.75a.75.75 0 11-1.06 1.06l-5.47-5.47V19.5a.75.75 0 01-.75.75z",clipRule:"evenodd"})]})}const ce=c.exports.forwardRef(oe),de=ce;function y(...e){return e.filter(Boolean).join(" ")}const x=(e,t)=>{let n=parseInt(e),a=parseInt(t);return n<a?"-"+((a-n)*100/n).toFixed():((n-a)*100/a).toFixed()},be=e=>{const[t,n]=m.useState(!1),[a,o]=m.useState(!1),s=[{name:"Total Rent",stat:t?e.stats.currentYear:e.stats.currentMonth,previousStat:t?e.stats.lastYear:e.stats.lastMonth,change:t?x(e.stats.currentYear,e.stats.lastYear):x(e.stats.currentMonth,e.stats.lastMonth),changeType:function(){return this.change>0?"increase":"decrease"},text:"Last Month \u20B9"},{name:"Electricity",stat:t?e.stats.currentYearElectricity:e.stats.currentMonthElectricity,previousStat:t?e.stats.lastYearElectricity:e.stats.lastMonthElectricity,change:t?x(e.stats.currentYearElectricity,e.stats.lastYearElectricity):x(e.stats.currentMonthElectricity,e.stats.lastMonthElectricity),changeType:function(){return this.change>0?"increase":"decrease"},text:"Last Month \u20B9"},{name:"Total Income",stat:e.stats.total,previousStat:e.stats.start_date,change:t?x(e.stats.currentYear,e.stats.lastYear):x(e.stats.currentMonth,e.stats.lastMonth),changeType:function(){return this.change>0?"increase":"decrease"},text:"From "},{name:"Potential Rent Remaining",stat:e.stats.dueRent,text:""}];return console.log(s),i(B,{auth:e.auth,errors:e.errors,header:l(U,{title:"Dashboard",actionButton:{text:"Properties",url:route("property.index"),icon:"BuildingOffice2Icon"}}),children:[l(A,{title:"Dashboard"}),l("div",{className:"py-1 md:py-6",children:i("section",{className:"list-container",children:[l("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8 mb-6 ",children:i("div",{className:"shadow-xl rounded-md",children:[i("div",{className:"flex flex-1 bg-white items-center justify-between  px-4 py-5   sm:px-6 lg:px-8 border-b ",children:[i("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:[t?"Annually":"Monthly"," Stats"]}),i(b.Group,{as:"div",className:"flex ",children:[l(b.Label,{as:"span",className:"mr-3",children:l("span",{className:"text-sm font-medium text-gray-900",children:"Switch to Annually"})}),i(b,{checked:t,onChange:n,className:y(t?"bg-indigo-600":"bg-gray-200","relative inline-flex flex-shrink-0 h-6 w-11 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"),children:[l("span",{className:"sr-only",children:"Use setting"}),l("span",{"aria-hidden":"true",className:y(t?"translate-x-5":"translate-x-0","pointer-events-none inline-block h-5 w-5 rounded-full bg-white shadow transform ring-0 transition ease-in-out duration-200")})]})]})]}),l("dl",{className:" grid grid-cols-1   bg-white overflow-hidden  divide-y divide-gray-200 md:grid-cols-4 md:divide-y-0 md:divide-x",children:s.map((r,d)=>i("div",{className:"px-4 py-5 sm:p-6",children:[l("dt",{className:"text-base font-normal text-gray-900",children:r.name}),i("dd",{className:"mt-1 flex justify-between items-baseline md:block lg:flex",children:[i("div",{className:"flex items-baseline text-2xl font-semibold text-indigo-600",children:["\u20B9",new Intl.NumberFormat("en-IN",{maximumSignificantDigits:3}).format(r.stat),i("span",{className:"ml-2 text-sm font-medium text-gray-500",children:[r.text,r.previousStat]})]}),!["NaN","-Infinity","Infinity"].includes(r.change)&&d<3&&i("div",{className:y(r.changeType()==="increase"?"bg-green-100 text-green-800":"bg-red-100 text-red-800","inline-flex items-baseline px-2.5 py-0.5 rounded-full text-sm font-medium md:mt-2 lg:mt-0"),children:[r.changeType()==="increase"?l(de,{className:"-ml-1 mr-0.5 flex-shrink-0 self-center h-5 w-5 text-green-500","aria-hidden":"true"}):l(ie,{className:"-ml-1 mr-0.5 flex-shrink-0 self-center h-5 w-5 text-red-500","aria-hidden":"true"}),i("span",{className:"sr-only",children:[r.changeType()==="increase"?"Increased":"Decreased"," ","by"]}),r.change,"%"]})]})]},r.name))})]})}),l("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8 mb-6 ",children:i("div",{className:"shadow-xl rounded-md",children:[l("div",{className:"bg-white px-4 py-5 border-b border-gray-200   ",children:l("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Upcoming Rent"})}),i("div",{className:"bg-white  overflow-hidden  ",children:[l("ul",{className:"divide-y  divide-gray-200",children:e.stats.upcomingRents.map(r=>l(L,{room:r,SetShowRoom:o}))}),e.stats.upcomingRents.length==0&&l("p",{className:"mt-1 p-3 text-sm text-gray-500",children:"No Upcoming rents."})]})]})})]})}),l(O,{SetShowRoom:o,room:a})]})};export{be as default};
